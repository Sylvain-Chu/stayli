{{> header activeNav="bookings" }}
{{> sidebar activeNav="bookings" }}
<link rel="stylesheet" href="/css/pages/booking-show-modern.css">

<div class="booking-header-bar">
  <div class="booking-breadcrumbs">
    <a href="/bookings">Bookings</a> /
    <span>#BK-{{booking.id}}</span>
  </div>
  <div class="booking-header-main">
    <div>
      <h1 class="booking-title">Booking Details</h1>
    </div>
    <div class="booking-header-actions">
      <button class="booking-action-btn"><i data-feather="edit-2"></i> Edit Booking</button>
      <button class="booking-action-btn secondary"><i data-feather="send"></i> Send Confirmation</button>
      <button class="booking-action-btn danger"><i data-feather="x-circle"></i> Cancel Booking</button>
    </div>
  </div>
</div>

<div class="booking-main-grid">
  <div class="booking-main-left">
    <!-- Reservation Summary Card (modern) -->
    <div class="booking-card summary-card">
      <div class="booking-card-header">Reservation Summary</div>
      <div class="booking-card-content">
        <div class="booking-summary-row">
          <img class="booking-summary-img" src="{{booking.property.imageUrl}}" alt="{{booking.property.name}}" onerror="this.style.display='none'">
          <div>
            <a class="booking-summary-title" href="/properties/{{booking.property.id}}">{{booking.property.name}}</a>
            <div class="booking-summary-address">{{booking.property.address}}</div>
            <button class="booking-summary-btn">View Property</button>
          </div>
        </div>
        <div class="booking-summary-details">
          <div>
            <span class="booking-summary-label">Check-in</span><br>
            <span class="booking-summary-value">{{formatDate booking.startDate}}, 15:00</span>
          </div>
          <div>
            <span class="booking-summary-label">Check-out</span><br>
            <span class="booking-summary-value">{{formatDate booking.endDate}}, 11:00</span>
          </div>
          <div>
            <span class="booking-summary-label">Duration</span><br>
            <span class="booking-summary-value">7 Nights</span>
          </div>
          <div>
            <span class="booking-summary-label">Guests</span><br>
            <span class="booking-summary-value">2 Adults, 1 Child</span>
          </div>
        </div>
      </div>
    </div>
    <!-- Financials Card (modern) -->
    <div class="booking-card financials-card">
      <div class="booking-card-header">Financials</div>
      <div class="booking-card-content">
        <div class="booking-financials-grid">
          <div>
            <div class="booking-section-title">Price Breakdown</div>
            <div class="booking-financials-breakdown">
              <div class="flex justify-between"><span class="booking-summary-label">Base Rate (7 nights x $350)</span><span class="booking-summary-value">$2,450.00</span></div>
              <div class="flex justify-between"><span class="booking-summary-label">Cleaning Fee</span><span class="booking-summary-value">$150.00</span></div>
              <div class="flex justify-between"><span class="booking-summary-label">Taxes & Fees (10%)</span><span class="booking-summary-value">$260.00</span></div>
              <div class="flex justify-between" style="border-top:1px solid #e5e7eb;margin-top:0.7rem;padding-top:0.7rem;"><span class="booking-summary-label" style="font-weight:700;color:#222;">Total Price</span><span class="booking-summary-value" style="font-weight:700;color:#222;">$2,860.00</span></div>
            </div>
          </div>
          <div>
            <div class="booking-section-title">Related Invoices</div>
            <div class="overflow-x-auto">
              <table class="booking-card-table">
                <thead><tr><th>INVOICE ID</th><th>AMOUNT</th><th>STATUS</th></tr></thead>
                <tbody>
                  <tr><td><a href="#">INV-12345</a></td><td>$1,430.00</td><td><span class="booking-badge success">Paid</span></td></tr>
                  <tr><td><a href="#">INV-12346</a></td><td>$1,430.00</td><td><span class="booking-badge success">Paid</span></td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="booking-main-right">
    <!-- Client Information Card -->
    <div class="booking-card">
      <div class="booking-card-header">Client Information</div>
      <div class="booking-card-content">
        <div class="booking-client-info">
          <img class="booking-client-avatar" src="{{booking.client.avatarUrl}}" alt="{{booking.client.firstName}} {{booking.client.lastName}}" onerror="this.style.display='none'">
          <div class="booking-client-details">
            <a class="booking-client-name" href="/clients/{{booking.client.id}}">{{booking.client.firstName}} {{booking.client.lastName}}</a>
            <div class="booking-client-email">{{booking.client.email}}</div>
            <div class="booking-client-phone">{{booking.client.phone}}</div>
          </div>
        </div>
        {{!-- <div class="booking-client-special" style="margin-top:1.2rem;">
          <span style="color:#617c89;font-weight:500;font-size:0.97rem;">Special Requests</span><br>
          <span class="booking-client-special-text">{{booking.client.specialRequests}}</span>
        </div> --}}
      </div>
    </div>
    <!-- Status Card (modern) -->
    <div class="booking-card status-card">
      <div class="booking-card-header">Status</div>
      <div class="booking-card-content">
        <div class="booking-status-block">
          <div class="booking-status-label">Booking Status</div>
          <div class="booking-badge success"><i data-feather="check-circle" style="font-size:1em;"></i> Confirmed</div>
        </div>
        <div class="booking-status-block">
          <div class="booking-status-label">Payment Status</div>
          <div class="booking-badge success"><i data-feather="credit-card" style="font-size:1em;"></i> Paid in Full</div>
        </div>
      </div>
    </div>
  </div>
</div>
{{> footer}}