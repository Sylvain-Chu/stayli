{{> header }}
{{> sidebar }}

<h1>{{t 'invoices.editTitle'}}</h1>
<form method='post' action='/invoices/{{invoice.id}}/edit'>
  <div>
  <label>{{t 'invoices.bookingLabel'}}</label>
    <select name='bookingId' required>
      {{#each bookings}}
        <option value='{{this.id}}' {{#if (eq this.id ../invoice.bookingId)}}selected{{/if}}>
          {{date this.startDate}} → {{date this.endDate}} — {{this.property.name}} — {{this.client.lastName}} {{this.client.firstName}}
        </option>
      {{/each}}
    </select>
  </div>
  <div>
  <label>{{t 'invoices.invoiceNumberLabel'}}</label>
    <input name='invoiceNumber' value='{{invoice.invoiceNumber}}' required />
  </div>
  <div>
  <label>{{t 'invoices.dueDateLabel'}}</label>
    <input type='date' name='dueDate' value='{{date invoice.dueDate}}' required />
  </div>
  <div>
  <label>{{t 'invoices.amountLabel'}}</label>
    <input type='number' step='0.01' name='amount' value='{{invoice.amount}}' />
  </div>
  <div>
  <label>{{t 'invoices.statusLabel'}}</label>
    <input name='status' value='{{invoice.status}}' />
  </div>
  <button type='submit'>{{t 'common.save'}}</button>
</form>
<p><a href='/invoices'>{{t 'common.back'}}</a></p>

{{> footer }}